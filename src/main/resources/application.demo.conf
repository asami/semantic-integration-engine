server {
  # Demo mode: allow external access
  host = "0.0.0.0"

  # Public port for the SIE server
  sie-port = 9050

  mode = "demo"
}

# --- Fuseki (RDF Store) ---
fuseki {
  # Fuseki endpoint inside the Docker demo network
  endpoint = "http://sie-fuseki:3030/ds"
}

# --- ChromaDB (Vector Store) ---
chroma {
  # ChromaDB endpoint for demo environment
  endpoint = "http://sie-embedding:8081"
  collection = "simplemodeling"
}

# --- Embedding Server (onnxruntime service) ---
embedding {
  # Embedding API served by sie-embedding container
  endpoint = "http://sie-embedding:8081/embed"
}

# --- Logging configuration ---
logging {
  # Recommended log level for demo deployment
  level = "INFO"
}

# ---------------------------------------------------------------------
# VectorDB behavior in DEMO mode
#
# IMPORTANT:
# - Comments in this file are for *explanation only*.
# - Commenting/uncommenting blocks changes behavior.
#
# DEFAULT DEMO BEHAVIOR:
# - DEMO mode is intended to use a *prebuilt* VectorDB by default.
# - In that default case, VectorDB is treated as externally managed
#   and NO automatic (re)build or heavy indexing is performed.
# - This ensures fast startup and reproducible demos (MCP / RAG focus).
#
# CURRENT FILE STATE:
# - The `knowledge { ... }` block below is ACTIVE.
# - Therefore, DEMO mode WILL build VectorDB locally inside the container
#   (historical 0.0.4 behavior; container-local and non-persistent).
#
# HOW TO SWITCH BACK TO PREBUILT MODE:
# - Comment out or remove the active `knowledge { ... }` block below.
#
# NOTE:
# - This comment block itself never changes behavior.
# - Only the presence or absence of active configuration blocks does.
# ---------------------------------------------------------------------

knowledge {
  graphdb {
    operational-control = "Unmanaged"
  }

  vectordb {
    operational-control = "Managed"
  }

  vectordb-lifecycle {
    mode = "Auto"
  }
}
